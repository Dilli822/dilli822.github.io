<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>CSIT Solution App | Second Semester </title>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
      <link rel="stylesheet" href="./resources/css/csit/2ndSem/pastQuestionSolution/pastQuestionSolution.css">
      <style>
         body {
         overflow: hidden;
         }
         .marquee {
         white-space: nowrap;
         overflow: hidden;
         position: relative;
         animation: marquee 15s linear infinite;
         }
         .marquee p {
         display: inline-block;
         padding-right: 100%;
         }
         @keyframes marquee {
         0% {
         transform: translateX(100%);
         }
         100% {
         transform: translateX(-100%);
         }
         }
         .modal-open .container-fluid {
         opacity: 0;
         }
      </style>
   </head>
   <body>
      <!-- Add this code inside the body tag, preferably after the main content -->
      <div class="modal fade" id="usernameModal" tabindex="-1" role="dialog" aria-labelledby="usernameModalLabel" aria-hidden="true">
         <div class="modal-dialog" role="document">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title" id="usernameModalLabel">Enter Your Username</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                  </button>
               </div>
               <div class="modal-body">
                  <input type="text" id="usernameInput" class="form-control" placeholder="Username" />
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-primary" data-dismiss="modal" id="saveUsername">Save</button>
               </div>
            </div>
         </div>
      </div>
      <div class="container-fluid">
         <p class="pt-2 m-0 marquee">This is only KEC's Solution for Bsc.CSIT Second Semester up to 2078 B.S PAST QUESTION. Thanks | @dilli_hangrae</p>
         <hr class="mt-2">
         <div class="row">
            <div class="col-4">
               <h4>Solutions Highlights:</h4>
               <hr>
               <div>
                <h5 id="choosensolutionHighLights"></h5>
               </div>
               <div >
                  <h5 id="greeting"></h5>
               </div>
               <div class="" id="welcomeMessageContainer">
                  <div> <span class="h4" id="welcomeMessage"></span> </div>
               </div>

               <hr>
               <div id="loaders" class="text-center">
                  <!-- Add the spinner and loading text -->
                  <div class="spinner-border text-primary" role="status">
                     <span class="sr-only">Loading...</span>
                  </div>
                  <p>Loading...</p>
               </div>
               <div class="stored-urls" id="sliderHighlightImage">
               </div>
            </div>
            <div class="col-5" >
               <div id="loader" class="text-center">
                  <!-- Add the spinner and loading text -->
                  <div class="spinner-border text-primary" role="status">
                     <span class="sr-only">Loading...</span>
                  </div>
                  <p>Loading...</p>
               </div>
               <div class="col-11  slideC" id="slideC">
                  <div  id="ifram">
                     <iframe 
                        width="100%"
                        height="100%"
                        src="https://www.youtube.com/embed/hkNdhKAMhAA?si=hXGBU3lnagerHCbJ"
                        alt="no video available"
                        title="YouTube video player"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen
                        id="videoIframe"
                  
                        class="h-100"
                        ></iframe>
                     <!-- <div id="errorMessage" style="text-align: center; border: 1px solid red;">
                        <ul>
                         <label for="">Video is Not Available.Consider:</label>
                         <li lass="primary-text"> Check Your Network Connection</li>
                         <li lass="primary-text"> Refresh/Reload Browser</li>
                         <li> Please Try Again Later. </li>
                        </ul>
                        </div> -->
                  </div>
                  <div id="whole-Slider">
                     <div id="slider">
                        <div id="fullscreenContainer" style="position: relative;">
                           <img id="sliderImage" src="" alt="">
                        </div>
                     </div>
                  </div>
               </div>
               <div id="buttonss">
                  <button id="closeFullscreenBtn" style="position: absolute; top: 10px; right: 10px; background-color: #fff; border: none; cursor: pointer;">
                  <i class="fas fa-times"></i>
                  </button>
                  <div style="margin-top: 10px; text-align: center;"> 
                     <button id="prevBtnCustom2" type="button" class="btn btn-outline-primary">Previous</button>
                     <button id="nextBtnCustom2" type="button" class="btn btn-outline-success">Next</button>
                     <button id="sliderImageBtn" type="button" class="btn btn-outline-info" >View Full Screen </button>
                  </div>
               </div>
            </div>
            <div class="col-3">
               <h4>Subject Past Quest Solutions</h4>
               <div class="ul-main">
                  <ul id="main-list">
                     <li class="has-sub-list">
                        Discrete Math <i class="fas"></i>
                        <ul class="sub-list">
                           <li>DS_MATH_2078_BS_TU </li>
                           <li>DS_MATH_2076_BS_TU </li>
                           <li>DS_MATH_2075_BS_TU </li>
                        </ul>
                     </li>
                     <li class="has-sub-list">
                        Object Oriented Programming <i class="fas"></i>
                        <ul class="sub-list">
                           <li>OOP_2078_BS_TU</li>
                           <li>OOP_2076_BS_TU</li>
                           <li>OOP_2075_BS_TU</li>
                        </ul>
                     </li>
                     <li class="has-sub-list">
                        MicroProcessor<i class="fas"></i>
                        <ul class="sub-list">
                           <li>MicroProcessor_2078_BS_TU </li>
                           <li>MicroProcessor_2076_BS_TU </li>
                           <li>MicroProcessor_2075_BS_TU </li>
                        </ul>
                     </li>
                     <li class="has-sub-list">
                        Mathematics - II<i class="fas"></i>
                        <ul class="sub-list">
                           <li>Mathematics_II_2078_BS_TU </li>
                           <li>Mathematics_II_2076_BS_TU </li>
                           <li>Mathematics_II_2075_BS_TU </li>
                        </ul>
                     </li>
                     <li class="has-sub-list">
                        Statistics - I<i class="fas"></i>
                        <ul class="sub-list">
                           <li>STATISTICS_I_2078_BS_TU </li>
                           <li>STATISTICS_I_2076_BS_TU </li>
                           <li>STATISTICS_I_2075_BS_TU </li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <footer>
         <div class="col-12 p-1 mt-1 position-absolute bottom-0 bg-success text-white text-center">
            <h6 class="mt-1">This Web App is Created, Developed & Maintained by  <a class="text-info text-decoration-none" href="https://www.instagram.com/dilli_hangrae/"> Dilli Hang Rai </a> </h6>
            <section class="mt-0 social-media-links">
               <span><a>Click on Icon to Follow me | For Queries Advice:</a></span>
               <span><a href="https://www.instagram.com/?hl=en" target="_blank"><i class="fab fa-instagram"></i></a></span>
               <span><a href="https://www.youtube.com/channel/UCGMG6ppG6kBj7gp1zROQAFA" target="_blank"><i class="fab fa-youtube"></i></a></span>
               <span><a href="https://www.linkedin.com/in/dilli-hang-rai-4724411b2/" target="_blank"><i class="fab fa-linkedin"></i></a></span>
               <span><a href="https://github.com/Dilli822" target="_blank"><i class="fab fa-github"></i></a></span>
               <span><a href="https://twitter.com/dilli_hangrae" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i></a></span>
            </section>
         </div>
      </footer>
      <!-- Include Bootstrap JS and Pooper.js (required for dropdown functionality) -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@pooperjs/core@2.11.6/dist/umd/pooper.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
      <!-- <script src="./resources/script/csit/2ndSem/PastQuestionSolution/pastQuestionSolutions.js"></script> -->
      <script src="./resources/script/csit/2ndSem/PastQuestionSolution/fullScreenButtons.js"></script>
      <script src="./resources/script/csit/2ndSem/PastQuestionSolution/collectUsername.js"></script>
      <script>


         const sliderHighlightImage = document.getElementById("sliderHighlightImage");
         
         const urls = {
           DS_MATH_2078_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/DiscreteMath/2078/ds-2078-",
           DS_MATH_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/DiscreteMath/2076/ds-2076-",
           DS_MATH_2075_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/DiscreteMath/2075/ds-2075-",

           OOP_2078_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/OOP/2078/oop-2078-",
           OOP_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/OOP/2076/oop-2076-",
           OOP_2075_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/OOP/2075/oop-2075-",

           Mathematics_II_2078_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Maths-II/2078/Maths-II-2078-",
           Mathematics_II_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Maths-II/2076/Maths-II-2076-",
           Mathematics_II_2075_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Maths-II/2075/Maths-II-2075-",

           MicroProcessor_2078_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Microprocessor/2078/microprocessor-2078-",
           MicroProcessor_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Microprocessor/2076/microprocessor-2076-",
           MicroProcessor_2075_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Microprocessor/2075/microprocessor-2075-",

           STATISTICS_I_2078_BS_TU :  "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/STAT-I/2078/STATS-I-2078-",
           STATISTICS_I_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/STAT-I/2076/STATS-I-2076-",
           STATISTICS_I_2075_BS_TU:   "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/STAT-I/2075/STATS-I-2075-"
         };
         
         let baseImageUrl;
         let imageArray = [];


         // section for loader hide and show
         function showLoading(){
          document.getElementById("loader").style.display = "block";
          document.getElementById("loaders").style.display = "block";
          document.getElementById("ifram").style.display = "none";
          document.getElementById("sliderImage").style.display = "none";
         }


         function hideLoading(){
          document.getElementById("loader").style.display = "none";
          document.getElementById("loaders").style.display = "none";
          document.getElementById("sliderImage").style.display = "block";
          document.get
        }
        hideLoading();
         
         async function fetchAndStoreImages() {
             // Clear the imageArray to fetch new images
             imageArray = [];
           
             let currentIndex = 0;
           
             while (true) {
               const imageUrl = `${baseImageUrl}${currentIndex + 1}.jpg`;
           
               console.log("Fetching image:", imageUrl);
           
               try {
                 const response = await fetch(imageUrl);
           
                 console.log("Response status:", response.status);
           
                 if (response.status === 404) {
                   console.log("404 Error - End of images");
                   break;
                 }
           
                 if (response.ok) {
                   const imageURL = imageUrl;
                   imageArray.push(imageURL); // Push the imageUrl, not a string
                 } else {
                   console.error(`Error fetching image at index ${currentIndex}: ${response.statusText}`);
                   break;
                 }
           
                 currentIndex++;
               } catch (error) {
                 console.error(`An error occurred while fetching the image at index ${currentIndex}: ${error}`);
                 break;
               }
             }
           
             if (imageArray.length > 0) {
               const imageArrayJson = JSON.stringify(imageArray);
               localStorage.setItem('imageArray', imageArrayJson);
               console.log("image array json ", imageArrayJson);
               displayImages(imageArray); // Call displayImages after fetching
             }
           }
         
         
             // Load the imageArray from local storage
             function loadImagesFromLocalStorage() {
             const imageArrayJson = localStorage.getItem('imageArray');
             if (imageArrayJson) {
               const parsedArray = JSON.parse(imageArrayJson);
               // Use a Set to remove duplicates, and then convert it back to an array
               return [...new Set(parsedArray)];
             }
             return []; // Return an empty array if data is not in local storage.
           }
           
           console.log(imageArray);
          
         
         
           function displayImages(imageArray) {
             // Clear the existing content in the container (assuming sliderHighlightImage is defined)
             sliderHighlightImage.innerHTML = '';
           
             if (imageArray.length === 0) {
               // Handle the case when imageArray is empty (no images to display)
               const noImagesMessage = document.createElement('p');
               noImagesMessage.textContent = 'No Solutions Available.';
               sliderHighlightImage.appendChild(noImagesMessage);
             } else {
               imageArray.forEach((imageUrl, index) => {
                 const img = document.createElement('img');
                 img.src = imageUrl;
                 img.alt = `Image ${index + 1}`; // Provide an alt attribute for accessibility
                 sliderHighlightImage.appendChild(img);
               });
             }
           }
         
             // Call this function to display images from the imageArray when needed.
             displayImages(imageArray);
         
         
           // Function to compare and add a red border
           // Add event listeners for the "Previous" and "Next" buttons
           const prevButton = document.getElementById('prevBtnCustom2');
           const nextButton = document.getElementById('nextBtnCustom2');
           let currentIndex = 0;
           
         
           function loadImagesInSlider(index) {
             if (index < 0 || index >= imageArray.length) {
               console.error('Invalid image index');
               
               return;
             }
           
           const sliderImage = document.getElementById('sliderImage');
             sliderImage.src = imageArray[index];
           }
           
         
           prevButton.addEventListener('click', () => {
             currentIndex = Math.max(currentIndex - 1, 0);
             loadImagesInSlider(currentIndex);
             compareAndHighlightImage(); 
           });
           
           nextButton.addEventListener('click', () => {
             currentIndex = Math.min(currentIndex + 1, imageArray.length - 1);
             loadImagesInSlider(currentIndex);
             compareAndHighlightImage(); 
           })
           
            // Initialize the slider with the first image
            loadImagesInSlider(currentIndex);
           
           // Function to compare and add a red border to the matching image
           function compareAndHighlightImage() {
             const sliderImage = document.getElementById('sliderImage');
             const images = document.querySelectorAll('#sliderHighlightImage img');
           
             images.forEach((img) => {
               if (img.src === sliderImage.src) {
                 // If the src attributes match, add a red border to the image
                 img.style.border = '2px solid red';
                 sliderImage.style.border = "2px solid red";
               } else {
                 // If the src attributes don't match, remove the red border (if it was previously set)
                 img.style.border = 'none';
               }
             });
           }
         
           
           const liElements = document.querySelectorAll('li');
         
           liElements.forEach((li) => {
             li.addEventListener('click', async (event) => {
               const liValue = event.target.textContent.trim();
               const variableName = liValue.split(' ').join('_');
           
               if (urls[variableName]) {
                 alert(`Click Okay.You Selected ${liValue}.`);
                 // Clear the local storage
                 localStorage.removeItem('imageArray');
                 showLoading();
           
                 // Clear the imageArray
                 imageArray = [];
           
                 // Clear the baseImageUrl
                 baseImageUrl = '';
           
                 // Set the new baseImageUrl
                 baseImageUrl = urls[variableName];
           
                 try {
                   // Fetch and store new images with the updated baseImageUrl
                   await fetchAndStoreImages();
           
                   // Load and display images
                   imageArray = loadImagesFromLocalStorage();
                   loadImagesInSlider(0);
           
                   // Display the updated images
                   displayImages(imageArray);
           
                   compareAndHighlightImage();
                   document.getElementById('choosensolutionHighLights').textContent = `${liValue}`;
                   hideLoading();
                   
                 } catch (error) {
                   console.error('An error occurred:', error);
                   alert('An error occurred. Please check the browser console.');
                 }
               }
             });
           });
           
         
         
         
      </script>
   </body>
</html>