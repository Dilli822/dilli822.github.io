<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Slider</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./resources/css/csit/2ndSem/pastQuestionSolution/pastQuestionSolution.css">

    <style>
        body {
            overflow: hidden;
        }

        .marquee {
            white-space: nowrap;
            overflow: hidden;
            position: relative;
            animation: marquee 15s linear infinite;
        }

        .marquee p {
            display: inline-block;
            padding-right: 100%;
        }

        @keyframes marquee {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }
    </style>
</head>
<body>

    <p class="p-0 marquee">This is only KEC's Solution for Bsc.CSIT Second Semester up to 2078BS PAST QUESTION. Thanks @dilli_hangrae</p>


    <div class="container-fluid">
        <div class="row">
            <div class="col-4">
                <h4>Solutions Highlights:</h4>
                <div class="stored-urls" id="sliderHighlightImage">
                
                        <!-- <button id="prevBtnCustom2" type="button" class="btn btn-outline-primary">Previous</button> -->
                     
                            <!-- Images will be added dynamically here -->

                        <!-- <button id="nextBtnCustom2" type="button" class="btn btn-outline-success">Next</button> -->
                    
                </div>
            </div>
            
            <div class="col-5" >
                <div id="slider">
                   
                      
                            <img id="sliderImage" src="" alt="Slider Image">
                  
                  
                </div>
                <div style="margin-top: 10px;"> 
                    <button id="prevBtnCustom2" type="button" class="btn btn-outline-primary">Previous</button>
                    <button id="nextBtnCustom2" type="button" class="btn btn-outline-success">Next</button>
                </div>
            </div>
            
            <div class="col-3">
                <h4>Subject Past Quest Solutions</h4>
                <div class="ul-main"> 
                    <ul id="main-list">
                        <li class="has-sub-list">Discrete Math <i class="fas"></i>
                            <ul class="sub-list">
                                <li>DS_MATH_2078_BS_TU </li>
                                <li>DS_MATH_2076_BS_TU </li>
                                <li>DS_MATH_2075_BS_TU </li>
                            </ul>
                        </li>
                        <li class="has-sub-list">Object Oriented Programming <i class="fas"></i>
                            <ul class="sub-list">
                                <li>OOP_2078_BS_TU</li>
                                <li>OOP_2076_BS_TU</li>
                                <li>OOP_2075_BS_TU</li>
                            </ul>
                        </li>
                        <li class="has-sub-list">MicroProcessor<i class="fas"></i>
                            <ul class="sub-list">
                                <li>MicroProcessor_2078_BS_TU </li>
                                <li>MicroProcessor_2076_BS_TU </li>
                                <li>MicroProcessor_2075_BS_TU </li>
                            </ul>
                        </li>
                        <li class="has-sub-list">Mathematics - II<i class="fas"></i>
                            <ul class="sub-list">
                                <li>Mathematics_II_2078_BS_TU </li>
                                <li>Mathematics_II_2076_BS_TU </li>
                                <li>Mathematics_II_2075_BS_TU </li>
                            </ul>
                        </li>
                        <li class="has-sub-list">Statistics - I<i class="fas"></i>
                            <ul class="sub-list">
                                <li>STATISTICS_I_2078_BS_TU </li>
                                <li>STATISTICS_I_2076_BS_TU </li>
                                <li>STATISTICS_I_2075_BS_TU </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="col-12 p-1 mt-1 position-absolute bottom-0 bg-success text-white text-center">
            <h6 class="mt-1">Created, Developed & Maintained by Dilli Hang Rai</h6>
            <section class="mt-0 social-media-links">
                <span><a>Click on Icon & Follow Me On:</a></span>
                <span><a href="https://www.instagram.com/?hl=en" target="_blank"><i class="fab fa-instagram"></i></a></span>
                <span><a href="https://www.youtube.com/channel/UCGMG6ppG6kBj7gp1zROQAFA" target="_blank"><i class="fab fa-youtube"></i></a></span>
                <span><a href="https://www.linkedin.com/in/dilli-hang-rai-4724411b2/" target="_blank"><i class="fab fa-linkedin"></i></a></span>
                <span><a href="https://github.com/Dilli822" target="_blank"><i class="fab fa-github"></i></a></span>
                <span><a href="https://twitter.com/dilli_hangrae" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i></a></span>
            </section>
        </div>
    </footer>

    <!-- Include Bootstrap JS and Pooper.js (required for dropdown functionality) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@pooperjs/core@2.11.6/dist/umd/pooper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
    <script src="./resources/script/csit/2ndSem/PastQuestionSolution/pastQuestionSolutions.js"></script>


    <script>

// Define the URLs in an object for easy access
const urls = {
  DS_MATH_2078_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/DiscreteMath/2078/ds-2078-",
  DS_MATH_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/DiscreteMath/2076/ds-2076-",
  DS_MATH_2075_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/DiscreteMath/2075/ds-2075-",
  OOP_2078_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/OOP/2078/oop-2078-",
  OOP_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/OOP/2076/oop-2076-",
  OOP_2075_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/OOP/2075/oop-2075-",
  Mathematics_II_2078_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Maths-II/2078/Maths-II-2078-",
  Mathematics_II_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Maths-II/2078/Maths-II-2076-",
  Mathematics_II_2075_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Maths-II/2078/Maths-II-2075-",
  MicroProcessor_2078_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Microprocessor/2078/microprocessor-2078-",
  MicroProcessor_2076_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Microprocessor/2076/microprocessor-2076-",
  MicroProcessor_2075_BS_TU: "https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/Microprocessor/2075/microprocessor-2075-",
};


const default_baseImageUrl = 'https://raw.githubusercontent.com/Dilli822/dilli822.github.io/main/resources/img/csit/pastquestionsolutions/STAT-I/2076/STATS-I-2076-';

let baseImageUrl = default_baseImageUrl;

// Add click event listeners to the <li> elements
// ... (previous code)

// Function to fetch and store images in local storage
async function fetchAndStoreImages() {
  const existingImageArrayJson = localStorage.getItem('imageArray');
  if (existingImageArrayJson) {
    console.log("Images are already in localStorage");
    return;
  }

  let currentIndex = 0;
  const imageArray = [];

  while (true) {
    const imageUrl = `${baseImageUrl}${currentIndex + 1}.jpg`;

    console.log("Fetching image:", imageUrl);

    try {
      const response = await fetch(imageUrl);

      console.log("Response status:", response.status);

      if (response.status === 404) {
        console.log("404 Error - End of images");
        break;
      }

      if (response.ok) {
        const imageURL = imageUrl;
        imageArray.push(imageURL);
      } else {
        console.error(`Error fetching image at index ${currentIndex}: ${response.statusText}`);
        break;
      }

      currentIndex++;
    } catch (error) {
      console.error(`An error occurred while fetching the image at index ${currentIndex}: ${error}`);
      break;
    }
  }

  if (imageArray.length > 0) {
    const imageArrayJson = JSON.stringify(imageArray);
    localStorage.setItem('imageArray', imageArrayJson);
    console.log(imageArrayJson);
  }
}

// ... (rest of the code)

// Start fetching and storing images
fetchAndStoreImages();


let imageArray = [];


// Load the imageArray from local storage
function loadImagesFromLocalStorage() {
  const imageArrayJson = localStorage.getItem('imageArray');
  if (imageArrayJson) {
    return JSON.parse(imageArrayJson);
  }
  return []; // Return an empty array if data is not in local storage.
}

console.log(imageArray);
// Get the container element where you want to add the images
const sliderHighlightImage = document.getElementById('sliderHighlightImage');

// Loop through the imageArray and create img tags
function displayImages(imageArray) {
  const sliderHighlightImage = document.getElementById('sliderHighlightImage');

  if (imageArray.length === 0) {
    // Handle the case when imageArray is empty (no images to display)
    const noImagesMessage = document.createElement('p');
    noImagesMessage.textContent = 'No images available.';
    sliderHighlightImage.appendChild(noImagesMessage);
  } else {
    imageArray.forEach((imageUrl, index) => {
      const img = document.createElement('img');
      img.src = imageUrl;
      img.alt = `Image ${index + 1}`; // Provide an alt attribute for accessibility
      sliderHighlightImage.appendChild(img);
    });
  }
}

// Call this function to display images from the imageArray when needed.
displayImages(imageArray);


// Function to load and display images in the slider
function loadImagesInSlider(index) {
  if (index < 0 || index >= imageArray.length) {
    console.error('Invalid image index');
    
    return;
  }

  const sliderImage = document.getElementById('sliderImage');
  sliderImage.src = imageArray[index];
}



// Function to compare and add a red border
// Add event listeners for the "Previous" and "Next" buttons
const prevButton = document.getElementById('prevBtnCustom2');
const nextButton = document.getElementById('nextBtnCustom2');
let currentIndex = 0;

prevButton.addEventListener('click', () => {
  currentIndex = Math.max(currentIndex - 1, 0);
  loadImagesInSlider(currentIndex);
  compareAndHighlightImage(); 
});

nextButton.addEventListener('click', () => {
  currentIndex = Math.min(currentIndex + 1, imageArray.length - 1);
  loadImagesInSlider(currentIndex);
  compareAndHighlightImage(); 
})

// Initialize the slider with the first image
loadImagesInSlider(currentIndex);

// Function to compare and add a red border to the matching image
function compareAndHighlightImage() {
  const sliderImage = document.getElementById('sliderImage');
  const images = document.querySelectorAll('#sliderHighlightImage img');

  images.forEach((img) => {
    if (img.src === sliderImage.src) {
      // If the src attributes match, add a red border to the image
      img.style.border = '2px solid red';
      sliderImage.style.border = "2px solid red";
    } else {
      // If the src attributes don't match, remove the red border (if it was previously set)
      img.style.border = 'none';
    }
  });
}
// Call the compareAndHighlightImage function initially and whenever you change the image
compareAndHighlightImage();

// // Add click event listeners to toggle sub-list visibility
const listItems = document.querySelectorAll('li.has-sub-list');
listItems.forEach(item => {
    item.addEventListener('click', () => {
        item.classList.toggle('expanded');
        const subList = item.querySelector('.sub-list');
        if (subList) {
            subList.classList.toggle('visible');
        }
    });
});

const liElements = document.querySelectorAll('#main-list li');
liElements.forEach((li) => {
  li.addEventListener('click', async (event) => {
    const liValue = event.target.textContent.trim();
    const variableName = liValue.split(' ').join('_');

    if (urls[variableName]) {
      alert(`Clicked on ${liValue}. URL: ${urls[variableName]}`);

      // Clear the local storage
      localStorage.removeItem('imageArray');

      // Clear the imageArray
      imageArray = [];

      // Clear the baseImageUrl
      baseImageUrl = '';

      // Set the new baseImageUrl
      baseImageUrl = urls[variableName];

      try {
        await fetchAndStoreImages();

        // Load and display images
        imageArray = loadImagesFromLocalStorage();
        loadImagesInSlider(0);

        // Display the updated images
        displayImages(imageArray);

        compareAndHighlightImage();
      } catch (error) {
        console.error('An error occurred:', error);
        alert('An error occurred. Please check the browser console.');
      }
    }
  });
});




    </script>
</body>
</html>


