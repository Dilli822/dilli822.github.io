<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Display User Location</title>
</head>
<body>

<!-- Display user's latitude and longitude -->
<div id="location"></div>

<script>
// Function to convert decimal degrees to degrees, minutes, and seconds format
function decimalToDMS(decimal, direction) {
    var degrees = Math.floor(decimal);
    var minutesDecimal = (decimal - degrees) * 60;
    var minutes = Math.floor(minutesDecimal);
    var seconds = ((minutesDecimal - minutes) * 60).toFixed(1);
    return degrees + "Â°" + minutes + "'" + seconds + "\"" + direction;
}

// Function to display user's location in the specified format
function showUserLocation(latitude, longitude) {
    // Convert latitude and longitude to DMS format
    var latitudeDMS = decimalToDMS(Math.abs(latitude), latitude >= 0 ? 'N' : 'S');
    var longitudeDMS = decimalToDMS(Math.abs(longitude), longitude >= 0 ? 'E' : 'W');

    // Display latitude and longitude in the specified format
    document.getElementById('location').innerHTML = latitudeDMS + " " + longitudeDMS;

    // Store latitude and longitude in variables
    var userLatitude = latitudeDMS;
    var userLongitude = longitudeDMS;

    // Construct Google Maps link using template literals
    // var googleMapsLink = `https://www.google.com/maps/place/${userLatitude}+${userLongitude}/@${latitude},${longitude},17z?entry=ttu`;
    var googleMapsLink = `https://www.google.com/maps/place/${userLatitude}+${userLongitude}/@${latitude},${longitude},17z?entry=ttu`;
    // Open Google Maps link in a new tab
    window.open(googleMapsLink, '_blank');
}

// Function to handle errors
function showError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            alert("User denied the request for Geolocation.");
            break;
        case error.POSITION_UNAVAILABLE:
            alert("Location information is unavailable.");
            break;
        case error.TIMEOUT:
            alert("The request to get user location timed out.");
            break;
        case error.UNKNOWN_ERROR:
            alert("An unknown error occurred.");
            break;
    }
}

// Function to get user's location
function getUserLocation() {
    // Check if geolocation is supported by the browser
    if (navigator.geolocation) {
        // Get user's current position
        navigator.geolocation.getCurrentPosition(function(position) {
            // Get latitude and longitude
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            // Display user's location in the specified format
            showUserLocation(latitude, longitude);
        }, showError);
    } else {
        // Display an error message if geolocation is not supported
        alert("Geolocation is not supported by this browser.");
    }
}

// Call the function to get user's location
getUserLocation();
</script>

</body>
</html>
